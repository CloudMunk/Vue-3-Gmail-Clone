{"remainingRequest":"/Users/anestisfinstad/Downloads/build-gmail-clone-with-vue-3-video-2-start/node_modules/babel-loader/lib/index.js!/Users/anestisfinstad/Downloads/build-gmail-clone-with-vue-3-video-2-start/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/anestisfinstad/Downloads/build-gmail-clone-with-vue-3-video-2-start/node_modules/vue-loader/dist/index.js??ref--0-1!/Users/anestisfinstad/Downloads/build-gmail-clone-with-vue-3-video-2-start/src/components/MailTable.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/anestisfinstad/Downloads/build-gmail-clone-with-vue-3-video-2-start/src/components/MailTable.vue","mtime":1612210485992},{"path":"/Users/anestisfinstad/Downloads/build-gmail-clone-with-vue-3-video-2-start/node_modules/cache-loader/dist/cjs.js","mtime":1603365984403},{"path":"/Users/anestisfinstad/Downloads/build-gmail-clone-with-vue-3-video-2-start/node_modules/babel-loader/lib/index.js","mtime":1603365984399},{"path":"/Users/anestisfinstad/Downloads/build-gmail-clone-with-vue-3-video-2-start/node_modules/cache-loader/dist/cjs.js","mtime":1603365984403},{"path":"/Users/anestisfinstad/Downloads/build-gmail-clone-with-vue-3-video-2-start/node_modules/vue-loader/dist/index.js","mtime":1612103305505}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2FuZXN0aXNmaW5zdGFkL0Rvd25sb2Fkcy9idWlsZC1nbWFpbC1jbG9uZS13aXRoLXZ1ZS0zLXZpZGVvLTItc3RhcnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyBmb3JtYXQgfSBmcm9tICdkYXRlLWZucyc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgX3lpZWxkJGF4aW9zJGdldCwgZW1haWxzOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9lbWFpbHMnKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfeWllbGQkYXhpb3MkZ2V0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBlbWFpbHMgPSBfeWllbGQkYXhpb3MkZ2V0LmRhdGE7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgICAgZm9ybWF0OiBmb3JtYXQsCiAgICAgICAgICAgICAgICBlbWFpbHM6IGVtYWlscwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNvcnRlZEVtYWlsczogZnVuY3Rpb24gc29ydGVkRW1haWxzKCkgewogICAgICByZXR1cm4gdGhpcy5lbWFpbHMuc29ydChmdW5jdGlvbiAoZTEsIGUyKSB7CiAgICAgICAgcmV0dXJuIGUxLnNlbnRBdCA8IGUyLnNlbnRBdCA/IDEgOiAtMTsKICAgICAgfSk7CiAgICB9LAogICAgdW5hcmNoaXZlZEVtYWlsczogZnVuY3Rpb24gdW5hcmNoaXZlZEVtYWlscygpIHsKICAgICAgcmV0dXJuIHRoaXMuc29ydGVkRW1haWxzLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiAhZS5hcmNoaXZlZDsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICByZWFkRW1haWw6IGZ1bmN0aW9uIHJlYWRFbWFpbChlbWFpbCkgewogICAgICBlbWFpbC5yZWFkID0gdHJ1ZTsKICAgICAgYXhpb3MucHV0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvZW1haWxzLyIuY29uY2F0KGVtYWlsLmlkKSwgZW1haWwpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/anestisfinstad/Downloads/build-gmail-clone-with-vue-3-video-2-start/src/components/MailTable.vue"],"names":[],"mappings":";;;AA8BA,SAAS,MAAT,QAAuB,UAAvB;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,eAAe;AACL,EAAA,KADK,mBACG;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACmB,KAAK,CAAC,GAAN,CAAU,8BAAV,CADnB;;AAAA;AAAA;AACE,cAAA,MADF,oBACJ,IADI;AAAA,+CAEH;AACH,gBAAA,MAAM,EAAN,MADG;AAEH,gBAAA,MAAK,EAAL;AAFG,eAFG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMf,GAPY;AAQb,EAAA,QAAQ,EAAE;AACR,IAAA,YADQ,0BACO;AACb,aAAO,KAAK,MAAL,CAAY,IAAZ,CAAiB,UAAC,EAAD,EAAK,EAAL,EAAY;AAClC,eAAO,EAAE,CAAC,MAAH,GAAY,EAAE,CAAC,MAAf,GAAwB,CAAxB,GAA4B,CAAC,CAApC;AACD,OAFM,CAAP;AAGD,KALO;AAMR,IAAA,gBANQ,8BAMW;AACjB,aAAO,KAAK,YAAL,CAAkB,MAAlB,CAAyB,UAAA,CAAA;AAAA,eAAK,CAAC,CAAC,CAAC,QAAR;AAAA,OAAzB,CAAP;AACF;AARQ,GARG;AAkBb,EAAA,OAAO,EAAE;AACL,IAAA,SADK,qBACK,KADL,EACY;AACb,MAAA,KAAK,CAAC,IAAN,GAAa,IAAb;AACA,MAAA,KAAK,CAAC,GAAN,wCAA0C,KAAK,CAAC,EAAhD,GAAsD,KAAtD;AACJ;AAJK;AAlBI,CAAf","sourcesContent":["<template>\n    <table class=\"mail-table\">\n        <tbody>\n            <tr \n                v-for=\"email in unarchivedEmails\"\n                :key=\"email.id\"\n                :class=\"['clickable', email.read ? 'read' : '' ]\"\n                @click=\"readEmail(email)\"\n            >\n                <td>\n                    <input type=\"checkbox\">\n                </td>\n                <td> {{ email.from}} </td>\n                <td>\n                    <p>\n                        <strong> {{ email.subject }} </strong> - {{ email.body }}\n                    </p>\n                </td>\n                <td class=\"date\">\n                    {{ format(new Date(email.sentAt), 'MMM do yyyy') }}\n                </td>\n                <td>\n                    <button @click=\"email.archived = true\">Archive</button>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</template>\n\n<script>\nimport { format } from 'date-fns';\nimport axios from 'axios';\nexport default {\n    async setup() {\n        let { data: emails } = await axios.get('http://localhost:3000/emails')\n        return {\n            format,\n            emails\n        }\n  },\n  computed: {\n    sortedEmails() {\n      return this.emails.sort((e1, e2) => {\n        return e1.sentAt < e2.sentAt ? 1 : -1\n      })\n    },\n    unarchivedEmails() {\n      return this.sortedEmails.filter(e => !e.archived)\n    }\n  },\n  methods: {\n      readEmail(email) {\n          email.read = true;\n          axios.put(`http://localhost:3000/emails/${email.id}`, email)\n      }\n  }\n}\n</script>"],"sourceRoot":""}]}